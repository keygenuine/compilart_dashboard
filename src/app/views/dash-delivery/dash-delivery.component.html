
<c-row class="m-0">
    <c-col lg="12" class="pt-3" style="background-color:black; min-height: 250px;">
      <canvas baseChart id="chartFaturamentoDelivery" #chartFaturamentoDeliveryRef class="mb-3"> 
    </canvas>
    </c-col>
  </c-row>
  <app-widgets-dropdown [elements]="bankname"/>

  <c-row class="mt-4 px-4">
    <c-col xs>
    <c-card class="mb-4">
      <c-row>
        <c-col md="6" xl="6" xs="12" class="ps-4">
          <c-tabs [activeItemKey]="1" >
            <c-tabs-list variant="underline" >
              <button cTab [itemKey]="0"><img src="./assets/img/ifood.png" class="border rounded"></button>
              <button cTab [itemKey]="1"><img src="./assets/img/aiqfome.png" class="border rounded"></button>
              <button cTab [itemKey]="2"><img src="./assets/img/upzap.png" class="border rounded"></button>
              <button cTab [itemKey]="3"><img src="./assets/img/uairango.png" class="border rounded"></button>
            </c-tabs-list>
            <c-tabs-content>
              <c-tab-panel class="p-3" [itemKey]="0" >
                <strong>IFood</strong> tab 
              </c-tab-panel>
              <c-tab-panel class="p-3" [itemKey]="1">
                <strong>Aiqfome</strong> tab 
              </c-tab-panel>
              <c-tab-panel class="p-3" [itemKey]="2">
                <strong>Upzap</strong> tab 
              </c-tab-panel>
              <c-tab-panel class="p-3" [itemKey]="3">
                <strong>UaiRango</strong> tab 
              </c-tab-panel>
            </c-tabs-content>
          </c-tabs>
        </c-col>
        <c-col md="6" xl="6" xs="12">
          <canvas baseChart id="chartVendasPorOrigemDelivery" [height]="450" #chartVendasPorOrigemDeliveryRef class="mb-3"> </canvas>      
        </c-col>
      </c-row>
    </c-card>
    </c-col>
  </c-row>
  
  <c-row class="mt-4 px-4">
    <c-col xs>
      <c-card class="mb-4">
        <c-card-header >Top 10 Produtos</c-card-header>
        <c-card-body>
          <c-row>
            <c-col md="6" xl="6" xs="12">
              <c-row>
                <c-col xs="6">
                  <div class="border-start border-start-4 border-start-info py-1 px-3 mb-3">
                    <div class="text-body-secondary text-truncate small">Vendas</div>
                    <div class="fs-5 fw-semibold">9,123</div>
                  </div>
                </c-col>
                <c-col xs="6">
                  <div class="border-start border-start-4 border-start-danger py-1 px-3 mb-3">
                    <div class="text-body-secondary text-truncate small">Custo</div>
                    <div class="fs-5 fw-semibold">22,643</div>
                  </div>
                </c-col>
              </c-row>
              <hr class="mt-0" />
              <div class="progress-group mb-4 border rounded p-3 pe-5"  (click)="produtoGraficoGrupo('top 10 produtos')">
                <div class="progress-group-prepend me-3">
                  <span class="text-body-secondary small d-flex me-3 p-0 mt-2">
                    <i class="fa-solid fa-ranking-star pt-1 me-3"></i>
                    <div class="d-block p-0">
                      <p class="text-nowrap">TOP 10 PRODUTOS</p>
                    </div>
                  </span>
                </div>
              </div>
              <c-tabs [activeItemKey]="0" class="p-0 m-0">
                <c-tabs-list variant="underline-border" class="p-2">
                  <button cTab [itemKey]="0"><i class="fa-solid fa-arrow-left"></i></button>
                  <button cTab [itemKey]="1"><i class="fa-solid fa-arrow-right"></i></button>
                </c-tabs-list>
                <c-tabs-content>
                  <c-tab-panel class="p-0 pt-3" [itemKey]="0" >
                    <div *ngFor="let produtos of jsonServer.listaDeProdutos" class="progress-group mb-4 border rounded p-3 pe-5"  (click)="produtoGraficoGrupo(produtos.produto)">
                      <div class="progress-group-prepend me-3">
                        <span class="text-body-secondary small d-flex me-3">
                          <i class="fa-solid fa-circle pt-1 me-3" style="color: green;"></i>
                          <div class="d-block">
                            <p class="text-nowrap">{{produtos.produto}}</p>
                            <p class="text-nowrap">Id: {{produtos.id}}</p>
                          </div>
                        </span>
                      </div>
                      <div class="progress-group-bars ps-lg-5 pe-3">
                        <span class="text-body-secondary small">
                          <p >R${{produtos.custo}}</p>
                        </span>
                        <c-progress class="mb-2" thin color="info" value="{{(produtos.custo/(produtos.custo+produtos.venda))*100}}" aria-label="Monday new clients" />
                        <span class="text-body-secondary small">
                          <p>R${{produtos.venda}}</p>
                        </span>
                        <c-progress thin color="danger" value="{{(produtos.venda/(produtos.custo+produtos.venda))*100}}" aria-label="Monday recurring clients" />
                      </div>
                    </div>
                  </c-tab-panel>
                  <c-tab-panel class="p-3" [itemKey]="1">
                    <strong>Profile</strong> tab content
                  </c-tab-panel>
                </c-tabs-content>
              </c-tabs>

              <div class="legend text-center d-none d-md-block" ngPreserveWhitespaces>
                <small>
                  <sup>
                    <span class="badge badge-pill badge-sm bg-info">&nbsp;</span>
                  </sup>
                  <span>New clients</span>
                  &nbsp;&nbsp;
                  <sup>
                    <span class="badge badge-pill badge-sm bg-danger">&nbsp;</span>
                  </sup>
                  <span>Recurring clients</span>
                </small>
              </div>
            </c-col>
            <c-col md="6" xl="6" xs="12">
              <c-row id="graficoGrupoScroll" class="mt-3">
                <canvas id="vendasPorProdutoChartDelivery" [height]="450" #vendasPorProdutoChartDeliveryRef></canvas>
              </c-row>
              <c-row class="mt-3 pt-5">
                <canvas id="estoqueProdutoChartDelivery" [height]="450" #estoqueProdutoChartDeliveryRef></canvas>
              </c-row>
            </c-col>
          </c-row>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>
  <c-row class="px-4">
    <c-col xs>
      <c-card>
        <c-card-header>Entregas</c-card-header>
        <c-card-body>
          <c-row>
            <c-col  md="6" xl="6" xs="12">
              <canvas id="chartMotoboy" #chartMotoboyRef [height]="450" ></canvas>
            </c-col>
            <c-col  md="1" xl="6" xs="12">
              <canvas id="chartBairros" #chartBairrosRef [height]="450" ></canvas>
            </c-col>
          </c-row>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>
